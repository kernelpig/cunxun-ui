function timeFormat(e){return e>=0&&9>=e?"0"+e:e}function CtsTimeFormat(e){var o=new Date(e),t=o.getFullYear()+"-"+timeFormat(o.getMonth()+1)+"-"+timeFormat(o.getDate())+" "+timeFormat(o.getHours())+":"+timeFormat(o.getMinutes())+":"+timeFormat(o.getSeconds());return t}function GetUnixTimestampOfSecond(e){return new Date(e).getTime()/1e3}function GetURIParamStr(e,o){if(-1===e.indexOf("?"))return"";e=e.substr(e.indexOf("?"));var t=new RegExp("(^|&)"+o+"=([^&]*)(&|$)"),r=e.substr(1).match(t);return null!==r?unescape(r[2]):""}function GetURIParamInt(e,o){return parseInt(GetURIParamStr(e,o))||0}function GetURIParamIdValue(e,o){return GetURIParamStr(e,o)}function GoToPage(e){location.href=location.protocol+"//"+location.host+e}function GoToFromPage(){-1===location.href.indexOf("from=")?GoToIndexPage():location.href=location.href.substring(location.href.indexOf("from=")+"from=".length)}function GoToSignupPage(){GoToPage("/signup.html")}function GoToIndexPage(){GoToPage("/index.html")}function GoToLoginPage(e){GoToPage(e?"/login.html?from="+location.href:"/login.html")}function IsLogined(){Cookies.get("Authorization")||GoToLoginPage()}function AjaxNoAuth(e,o,t,r,n){$.ajax(t?{url:e,type:o,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t),error:r,success:n}:{url:e,type:o,contentType:"application/json; charset=utf-8",dataType:"json",error:r,success:n})}function AjaxWithAuth(e,o,t,r,n){$.ajax(t?{url:e,type:o,headers:{Authorization:Cookies.get("Authorization")},contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t),error:r,success:n}:{url:e,type:o,headers:{Authorization:Cookies.get("Authorization")},contentType:"application/json; charset=utf-8",dataType:"json",error:r,success:n})}function getCreaterUid(){return Cookies.get("Authorization")&&Cookies.get("UserRole")===userRoleNormal?Cookies.get("UserId")||createrUidDefault:createrUidDefault}function resetLoginCookie(){Cookies.remove("Authorization"),Cookies.remove("UserId"),Cookies.remove("UserRole")}function ToDBC(e){for(var o="",t=0;t<e.length;t++)32===e.charCodeAt(t)&&(o+=String.fromCharCode(12288)),e.charCodeAt(t)<127&&(o+=String.fromCharCode(e.charCodeAt(t)+65248));return o}function parseSpecialChar(e){return $.each(articleParseHTMLTags,function(o,t){e=e.replaceAll(t,ToDBC(t))}),e}function clearLoginCookie(){Cookies.remove("Authorization"),Cookies.remove("UserId"),Cookies.remove("UserRole")}String.prototype.replaceAll=function(e,o){return this.replace(new RegExp(e,"gm"),o)};