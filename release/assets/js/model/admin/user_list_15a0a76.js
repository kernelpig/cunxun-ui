function UserGetMoreHandler(){UserListPageEnv.is_end?AlertShowAutoClose("请知晓","亲,无更多数据"):NavbarItemUserGetList(UserListPageEnv)}function UserListPageGetCurrentEnv(e){UserListPageEnv.type_id=GetURIParamInt(e,"type_id")||typeIdDefault,UserListPageEnv.order_by=GetURIParamStr(e,"order_by")||orderByDefault,UserListPageEnv.page_size=GetURIParamInt(e,"page_size")||PageSizeDefault,UserListPageEnv.page_num=GetURIParamInt(e,"page_num")||PageStartNumberDefault}function NavbarItemUserGetList(){APIUserGetList(UserListPageEnv,AlertShowAjaxError,function(e){if(0===e.code){if(UserListPageEnv.is_end=e.end,!e.list||0===e.list.length)return void AlertShowAutoClose("请知晓","亲,无更多数据");UserListPageEnv.page_num+=1,$.each(e.list,function(e,t){var a=$(UserListItemTemplate);a.attr("id","UserListItem"+t.id),a.find(".UserIdField").text(t.id),a.find(".UserNicknameField").text(t.nickname),a.find(".UserPhoneField").text(t.phone),a.find(".UserRoleField").text(userRoleInfo[t.role]),a.find(".UserRoleField").attr("UserRoleFieldValue",t.role),a.find(".UserCreatedAtField").text(CtsTimeFormat(t.created_at)),a.find(".UserItemUpdateHandler").attr("alt",t.id),a.find(".UserItemDeleteHandler").attr("alt",t.id),$(".ListItemsContainer").append(a)}),gotoPageBottom(),$(".UserItemUpdateHandler").click(UserUpdateHandler),$(".UserItemDeleteHandler").click(UserDeleteHandler)}else AlertShowError(e.sub_error)})}function UserListRender(e){$(".ContentContainer").append(UserListTemplate),UserListPageGetCurrentEnv(e),$(".UserListTitle").text(UserListPageEnv.order_by===orderByCommentCount?"热度排序":"时间排序"),NavbarItemUserGetList(),$(".UserGetMoreHandler").click(UserGetMoreHandler)}var UserListTemplate='<table class="am-table am-table-striped am-table-compact am-text-sm am-text-primary">\n        <thead>\n        <tr>\n            <th class="am-show-lg-up">ID</th>\n            <th class="">昵称</th>\n            <th class="am-show-lg-up">手机</th>\n            <th class="am-show-lg-up">角色</th>\n            <th class="am-show-lg-up">时间</th>\n            <th class="">操作</th>\n        </tr>\n        </thead>\n        <tbody class="ListItemsContainer">\n        </tbody>\n    </table>\n    <!--更多在底部-->\n    <div class="am-list-news-ft">\n        <button class="am-list-news-more am-btn am-btn-primary am-btn-sm UserGetMoreHandler">查看更多 &raquo;</button>\n    </div>',UserListItemTemplate='<tr>\n            <td class="am-show-lg-up"><a class="UserIdField"></a></td>\n            <td><a class="UserNicknameField"></a></td>\n            <td class="am-show-lg-up"><a class="UserPhoneField"></a></td>\n            <td class="am-show-lg-up UserRoleField"></td>\n            <td class="UserCreatedAtField am-show-lg-up"></td>\n            <td>\n                <a class="am-btn am-btn-xs am-btn-default am-icon-pencil UserItemUpdateHandler">修改</a>\n                <a class="am-btn am-btn-xs am-btn-primary am-icon-trash UserItemDeleteHandler">删除</a>\n            </td>\n        </tr>\n',UserListPageEnv={type_id:typeIdDefault,creater_uid:Cookies.get("UserId")||createrUidDefault,column_id:columnIdDefault,article_id:articleIdDefault,order_by:orderByDefault,page_size:PageSizeDefault,page_num:PageStartNumberDefault,is_end:!1};