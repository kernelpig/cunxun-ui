function CarpoolingGetListHandler(){APICarpoolingGetList(CarpoolingListPageEnv,AlertShowAjaxError,function(t){if(0===t.code){if(CarpoolingListPageEnv.is_end=t.end,!t.list||0===t.list.length)return;CarpoolingListPageEnv.page_num+=1,$.each(t.list,function(t,a){var e=$(CarpoolingListItemTemplate),n="../carpooling.html?carpooling_id="+a.id;e.find(".CarpoolingListItemID").text(a.id),e.find(".CarpoolingListItemID").attr("href",n),e.find(".CarpoolingListItemFromCity").text(a.from_city),e.find(".CarpoolingListItemFromCity").attr("href",n),e.find(".CarpoolingListItemToCity").text(a.to_city),e.find(".CarpoolingListItemToCity").attr("href",n),e.find(".CarpoolingListItemDepartTime").text(CtsTimeFormat(a.depart_time)),e.find(".CarpoolingListItemDepartTime").attr("href",n),e.find(".CarpoolingListItemPeopleCount").text(a.people_count),e.find(".CarpoolingListItemContact").text(a.contact),e.find(".CarpoolingListItemCreatedAt").text(CtsTimeFormat(a.created_at)),e.find(".CarpoolingListItemCreater").text(a.nickname),e.find(".CarpoolingListItemRemark").html(parseSpecialChar(a.remark));var i="carpooling.html?action=update&carpooling_id="+a.id;e.find(".CarpoolingListItemUpdate").attr("href",i),e.find(".CarpoolingListItemDelete").attr("alt",a.id),$(".ListItemsContainer").append(e)}),$(".CarpoolingListItemDelete").click(CarpoolingDeleteHandler)}else AlertShowError(t.sub_error)})}function CarpoolingGetMoreHandler(){CarpoolingListPageEnv.is_end?AlertShowAutoClose("请知晓","亲,无更多数据"):CarpoolingGetListHandler()}function CarpoolingListPageGetCurrentEnv(t){CarpoolingListPageEnv.type_id=GetURIParamInt(t,"type_id")||typeIdDefault,CarpoolingListPageEnv.order_by=GetURIParamStr(t,"order_by")||orderByDefault,CarpoolingListPageEnv.page_size=GetURIParamInt(t,"page_size")||PageSizeDefault,CarpoolingListPageEnv.page_num=GetURIParamInt(t,"page_num")||PageStartNumberDefault}function CarpoolingListRender(t){$(".ContentContainer").append(CarpoolingListTemplate),CarpoolingListPageGetCurrentEnv(t),$(".CarpoolingListTitle").text(CarpoolingListPageEnv.order_by===orderByCommentCount?"热度排序":"时间排序"),CarpoolingGetListHandler(),$(".CarpoolingGetMoreHandler").click(CarpoolingGetMoreHandler)}var CarpoolingListTemplate='<table class="am-table am-table-striped am-table-compact am-text-sm am-text-primary">\n        <thead>\n        <tr>\n            <th class="am-show-lg-up">ID</th>\n            <th>出发</th>\n            <th>到达</th>\n            <th>日期</th>\n            <th class="am-show-lg-up">人数</th>\n            <th class="am-show-lg-up">联系人</th>\n            <th class="am-show-lg-up">备注</th>\n            <th class="am-show-lg-up">创建时间</th>\n            <th class="am-show-lg-up">创建者</th>\n            <th>操作</th>\n        </tr>\n        </thead>\n        <tbody class="ListItemsContainer">\n        </tbody>\n    </table>\n    <!--更多在底部-->\n    <div class="am-list-news-ft">\n        <a class="am-list-news-more am-btn am-btn-primary am-btn-sm CarpoolingGetMoreHandler" href="#">查看更多 &raquo;</a>\n    </div>',CarpoolingListItemTemplate='<tr>\n            <td class="am-show-lg-up"><a class="CarpoolingListItemID"></a></td>\n            <td><a class="CarpoolingListItemFromCity"></a></td>\n            <td><a class="CarpoolingListItemToCity"></a></td>\n            <td><a class="CarpoolingListItemDepartTime"></a></td>\n            <td class="am-show-lg-up"><a class="CarpoolingListItemPeopleCount"></a></td>\n            <td class="am-show-lg-up"><a class="CarpoolingListItemContact"></a></td>\n            <td class="am-show-lg-up"><a class="CarpoolingListItemRemark"></a></td>\n            <td class="am-show-lg-up CarpoolingListItemCreatedAt"></td>\n            <td class="am-show-lg-up CarpoolingListItemCreater"></td>\n            <td>\n                <a class="am-btn am-btn-xs am-btn-default am-icon-pencil CarpoolingListItemUpdate">修改</a>\n                <a class="am-btn am-btn-xs am-btn-primary am-icon-trash CarpoolingListItemDelete">删除</a>\n            </td>\n        </tr>\n',CarpoolingListPageEnv={type_id:typeIdDefault,creater_uid:getCreaterUid(),carpooling_id:carpoolingIdDefault,order_by:orderByDefault,page_size:PageSizeDefault,page_num:PageStartNumberDefault,is_end:!1};